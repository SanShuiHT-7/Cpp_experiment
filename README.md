### 实验一  简单类的设计与应用

##### 一、实验目的

(1) 用来编写简单的C++程序掌握类的声明定义和使用方法理解和掌握类的数据抽象和数据封装的基本原理和方法。
(2) 使用类编写较完整的C++程序,掌握单文件和多文件C++程序设计的基本方法。

##### 二、实验要求

(1) 掌握Visual C++开发环境的常用功能及使用，能在Visual C++开发环境下编程、调试程序(编辑、编译、连接、运行程序)。
(2) 按照实验内容编写相应功能的程序，记录完成步骤及结果。

##### 三、实验内容与步骤

###### 实验内容

(1) 设计一个学生类,它的私有数据成员包含:如学号、姓名、性别、籍贯等(可根据实际情况自己设计所包含数据成员及其类型);若干公有成员函数，分别用来设置学生的相关信息和显示该学生的信息。编写类和主函数进行验证。要求成员函数在类外实现。

(2) 设计一个长方体类,它包含三个私有数据成员:长、宽、高；成员函数分别实现以下功能①由键盘分别输人3个长方体的长、宽、高；②计算长方体的体积；③输出长方体的体积；④计算长方体的表面积；⑤输出长方体的表面积；要求类的声明部分存放在一个单独的头文件(类名.h)中，类的成员函数实现存放在(类名.cpp)中，主函数存放在main.cpp中，在主函数中求验证以上成员函数的使用，从键盘录入长方体的长宽高，然后长方体的体积和表面积。

(3) 图书类的设计，其数据成员和成员函数自行设计。

##### 四、拓展训练项目：简单类在图书管理系统中的应用

项目：面向对象程序设计--简单的图书管理系统模块

图书信息包含书名作者单价等项目设计一个简单的图书类,实现对一本书书名和单价的设置和显示功能。

1.图书类Book的设计 (例子只包含图书名称和单价2个信息项，其他的信息项和成员函数可自行设计)

图书类 Book 的总体设计为图书设计一个名为Book的类要存储的图书名称、单价信息

可设计成Book类所包含的2个私有数据成员.string name；float price；

要实现的数据设置和获取功能可设计为Book类所包含的4个公有的成员函:get_name()setName(()、get_price()、setPrice(),具体如下。

注意：Book类的成员函数与前面介绍的Student类有很大的不同；一是set和get函数不直接用cin和cout使用参数赋值或函数返回值增加了函数使用的灵活性二是set和get函数分别变成了两个以set设置函数为例，对每个数据成员都写一个set函数,这样在实现设置成员变量值的情况下还可增加成员函数的使用范围提高了可重用性。

2.图书类Book的实现

3.主程序的设计

------



### 实验二 类的进一步应用与编程

##### 一、实验目的

掌握构造函数的定义方法和作用能熟练运用构造函数进行对象的初始化;

初步掌握对象数组和对象指针的使用方法。

##### 二、实验内容

1.建立一个三角形类

(1)用带默认形参值(三条边长均为1的构造函数分别使用默认值和自定义值构造两个对象,并计算两个三角形的面积。

(2)利用带参数的构造函数使用建立动态对象的方法建立两个对象,计算并输出面积后.删除两个对象。

(3)利用拷贝构造函数实现对象间的赋值。。

2.创建学生类建立一个对象数组内放5个学生的信息(包括学号、姓名和成绩),编写程序要求:

(1)5个学生的信息在对象初始化时获得;分5行输出学生的信息。

(2)用指针指向数组首地址,输出第1 3 5个学生的数据；

##### 三、拓展训练项目：构造函数、对象数组等在图书管理系统中的应用

项目：面向对象程序设计--简单的图书管理系统

模块2：类的进一步应用一-实现图书列表及图书添加/显示功能

实现图书列表及图书添加/显示功能	

在上一章完成对书名和单价的设置和显示功能的基础上应用构造函数、对象数组等知识对Book类进一步设计与实现完成图书信息初始化书目列表创建,多本图书信息的添加、显示功能。

1.设计思路。要想创建书目列表可使用数组完成对多本图书的操作功能即建立Book类类型的数组,数组中的一个元素存储一本图书的数据。·对图书的添加显示功能的实现就是编写相应的功能函数。对某些相对独立的子功能一般的做法都是为每个功能编写相应的功能函数。因此要想完成创建书目列表完成对多本图书的添加显示功能。只需在1.3.4节中的cpp源程序中增加以下内容。

(1)增加一个图书类类型的bookList数组存储多本图书的信息,增加一个整型的变量bookNum存储当前实际的图书数目。 

(2)增加2个功能函数:

```
void insert(string newName,float newPrice)//添加新书信息功能函数
void showBook(int i) //输出一本图书
```

2.输出图书信息的功能函数showBook()的实现

(1)针对一本已有的图书输出其图书的所有信息项

(2)信息项之间设置间隔--格式化输出

(3)注意需要添加格式化输出头文件:参数i代表要输出的那本书在图书列表数组中的下标

```c++
#include<iomanip> void showBook(int i)//输出一本图书
```

3. 添加图书功能函数insert()的实现

(1)多本图书存取的实现用数组:每个数组元素存储一本图书的信息

```c++
Book bookList[maxBookNum]; //生成Book类对象数组 
```

(2)依次添加新书信息,就是依次对数组中的每个元素赋值。

```c++
void insert(string newName,floatnewPrice)//添加新书信息功能函数bookList[bookNum].setName(newName)//设置新书书名 
bookList[bookNum].setPrice(newPrice)://设置新书单价
bookNum++://新书添加成功后现有图书数目bookNum加1
```

------

### 实验三 类组合的应用与编程

##### 一、实验目的

理解类组合的方法和编程应用。

##### 二、实验内容


(1) 定义Teacher类，其数据成员包括工号、姓名、性别和生日，其中生日为另一个类BirthDate的对象，定义Teacher类的对象，并给出所有数据成员的初值，然后修改其生日数据，最后输出该对象的全部最新数据。

(2)

① 调试下列程序，写出输出结果，并分析输出结果。

```c++
#include<iostream>
using namespace std;
class Part
{
    public:    
        Part();          //Part的无参构造函数    
        Part (int x);  // Part的有参构造函数    
        ~Part();        //Part的析构函数
    private:
        int val;
};
Part::Part()
{
    val=0;
    cout<<"Part类的默认构造函数被调用"<<endl;
}
Part::Part(int x)
{  
    val=x;
     cout<<"Part类的一个参数的构造函数被调用"<<","<<val<<endl;
}
Part::~Part()
{
    cout<<"Part类的析构函数被调用"<<","<<val<<endl;
}
class Whole
{
    public:    
        Whole(int i);  // Whole的有参构造函数   
        Whole(){};     //Whole的无参构造函数 
        ~Whole();      //Whole的析构函数    
    private:   
        Part p1;  //子对象    
        Part p2; //子对象
};
Whole::Whole(int i):p1(),p2(i)
{
    cout<<"Whole类的构造函数被调用"<<endl;
}
Whole::~Whole()
{
    cout<<"Whole类的析构函数被调用"<<endl;
}
int main()
{  
    Wholew(3);//调用有参构造函数
    return0;
}
```

② 如果在Whole类中增加一个private数据成员Part p3;然后将Whole类的有参构造函数的实现改为

```c++
Whole::Whole(inti):p2(i),p1()
{
	cout<<"Whole类的构造函数被调用"<<endl;
}
```

写出输出结果，并分析输出结果。

##### 三、拓展训练项目:类的组合在图书管理系统中的应用

项目：面向对象程序设计--简单的图书管理系统

模块3：类的组合与应用一创建图书列表类、实现图书的增删查改功能在上一章完成创建书目列表实现对多本图书的添加显示功能的基础上，完成对多本图书的增删查改功能。

3.3.1图书列表类的设计

1.查询功能的设计思路

2.修改功能的设计思路

3.删除功能的设计思路

4.全部显示功能的设计思路

------

### 实验四 多态的应用与编程

##### 一、实验目的

理解运算符重载的机制熟练掌握运算符重载的方法。

理解流插人与流提取运算符重载的机制熟练掌握流插人与流提取运算符重载的方法。

##### 二、实验内容

(1)设计一个程序,将加法运算符重载为成员函数,使之能够实现复数的加法运算。将乘法运算符重载为友元函数使之能够实现复数的乘法运算。

(2)现有一个Student类包括以下四个数据成员: 

```c++
int num;
char sex;
char name[10];
float score;
```

编程实现对插入运算符(<<)和流提取符(>>)的重载使它们能够对Student类对象直接进行输入和输出。

##### 三、拓展训练项目：多态在图书管理系统中的应用

项目：面向对象程序设计--简单的图书管理系统

模块4：多态的应用一一完善图书信息的初始化和输出功能，在上一章完成对多本图书的增删查改功能的基础上，应用函数重载和运算符重载进一步完善类的初始化和输出功能。

4.3.1多态的设计

1.函数重载在图书管理中的应用本例中已在前边章节用到了构造函数的重载。使用构造函数的重载,可以使类的初始化功能更完善。具体来做,可以写无参的，一个参数的,两个参数的,带默认值的等各种构造函数,可灵活应用于多种初始化情况。

2.运算符重载在图书管理中的应用

重载流插入运算符<<实现cout对象直接输出一个Book对象(一本图书多个信息项)的功能。

(1)在类中添加流插人运算符<<函数的声明，并声明为友元friend类型。

```c++
friend ostream &operator <<(ostream &coutl,Book &book);//运算符重载方法,输出图书信息
```

(2)定义流插入运算符<<函数ostream &operator <<(ostream &coutl,Book &book)//运算符重载方法,输出图书信息

```c++
cout<<setiosflags(ios::left)<<setw(15)<<book.get_name();
cout<<setw(15)<<book.get_price(O)<<endl;
return cout;
```

(3)使用流插人运算符<<函数在显示一本图书信息的功能函数中,直接使用cout<<输出一个Book类对象

```c++
void showBook(int i) //输出一本图书 cout<<bookList[i];//此句命令替换了先前的那句单个信息项输出命令;
```

------

### 实验五 继承的应用与编程

##### 一、实验目的

理解继承与派生的概念、派生类的编程与应用。

理解类的继承与派生机制掌握三种继承方式对类成员访问属性的影响,可进行简单编程。

掌握继承和运算符重载的综合应用,掌握虚函数的作用及使用方法。

##### 二、实验内容

(1)声明点类Point包含成员变量的输人和输出功能由类Point派生出Circle(圆形)类实现求圆面积的功能，由Circle(圆形)类派生出Cylinder(圆柱体)类具有圆柱体体积的功能，最后编写main函数使用这此类重载运算符“<<"和“>>”伸之能用干输出以上类对象。

(2)声明抽象基类Shape，由它派生出3个派生类，Circle(圆形),Square(正方形)和Triangle(三角形)，用虚函数分别计算几种图形的面积。要求使用基类指针数组，使它的每一个元素指向一个派生类的对象。

##### 三、拓展训练项目：继承在图书管理系统中的应用

项目：面向对象程序设计--简单的图书管理系统

模块5：继承的应用一增加图书类别并扩展图书管理功能

在前边章节完成对多本图书的增删杏改功能的基础上应用继承在Book类的基础上派生出一个新的图书类BookE使BookE类能够对Isbn作者等更多的图书信息项实现增删查改功能。

5.3.1派生类的设计图书派生类及其应用主要包括以下3点内容:

1)基于上述的book类派生出bookE拓展类(添加出版社等信息项)

2)将上一章中BookList类中的Book替换成BookE即可运行。

3)将上一章中BookList类中增删查改的成员函数功能完善完善对bookE类新增信息项的增删查改功能。

1.基于上述的book类派生出bookE拓展类(添加出版社等信息项)

在派生类BookE中只需声明和定义新增的数据成员和函数成员。

(1)新增的数据成员有:

```c++
estringisbn; //图书的isbn号 
stringpublisher; //出版社名称 
string writer//作者姓名 
int quantity;//数量
```

(2)新增的函数成员有:

```c++
string get_writer()); //获取作者 .
void setWriter( const stringnewWriter); //更改作者
```

2.派生类的构造函数需要重新写

派生类的构造函数不仅需要对自己新增的数据成员进行初始化，还应对继承来的数据成员初始化,对继承来的数据成员初始化可调用基类的构造函数。

```c++
BookE::BookE(const stringName, const string Writer, const string Isbn, const string)Publisher,const float Price.const int Quantity)
    :Book(Name,Price)//重载构造函数
{
isbn=Isbn;
writer=Writer;
publisher=Publisher;
quantity=Quantity;
}
```

3.在Book类的基础上进一步派生出期刊类，并为其增加主管单位、CN刊号、刊期、级别等信息项及其管理功能。

------

### 实验六 文件的应用与编程

##### 一、实验目的

(1)掌握文本文件的输入输出方法;

(2)掌握二进制文件的输入输出方法;

(3)深入理解掌握C++的输入输出的含义与其实现方法,熟悉标准输人输出流的应用,包括格式输入输出,重点掌握标准输人输出流的相关操作。

##### 二、实验内容

(1)建立两个磁盘文件fl.dat和f2.dat,编程实现以下工作:

1)从键盘输人20个整数分别存放在两个磁盘文件中(每个文件分别存放10个整数)。

2)从f1.dat读入10个整数,然后存放到f2.dat文件原有数据后面。

(2)格式化输出操作练习,完成如下2小题:

1)从键盘输人一批数值,要求保留3位小数,在输出时上下行小数点对齐。

2)编程序在屏幕上显示一个由字母B组成的三角形,下图所示：

​             ![1.png](https://p.ananas.chaoxing.com/star3/origin/c120ded2500b8bb0dd34b5ebc20c0afb.png)

##### 三、拓展训练项目：文件在图书馆里系统中的应用

项目：面向对象程序设计--简单的图书管理系统

模块6：文件的应用成图书信息的文件存储功能

在上一章完成创建书目列表实现对多本图书的增删查改显示功能的基础上完成对多本图书信息的数据存储功能包括存储图书信息到文件和读取文件中的图书信息到程序两部分功能。

6.3.1文件在图书管理中的应用

1.读取文件中的数据

思路:

(1)创建输入文件流对象;

(2)若输人文件流对象创建失败,输出错误提示:

(3)若输人文件流对象创建成功则开始从文件中依次读取数据,并将读取到的每本图书的数据依次插人到图书列表中;

(4)最后关闭输人文件流对象,并显示读取到的所有图书信息。

2.存储程序中的数据到文件

思路:

(1)创建输出文件流对象;

(2)若输出文件流对象创建失败,输出错误提示:

(3)若输出文件流对象创建成功则开始向文件中依次将每本图书的数据输出到文件中;

(4)最后关闭输人文件流对象。

------

### 综合项目实践

在小型公司工资管理系统、分数计算器、分析表达式三个主题中选择其一完成

------

### 综合项目实践

设计并实现简单的图书信息管理系统，可仿照课堂实例进行功能改进和扩展。

------

### 综合项目实践

完成面向对象程序设计在可视化程序设计中的应用，完成数据库的增删改查操作，自行选题完成，可参考的主题有：

人事管理系统

通讯录管理系统

学生成绩管理系统
